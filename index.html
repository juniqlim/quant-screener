<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>퀀트 스크리너</title>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; background: #f5f5f5; color: #333; }
.container { max-width: 1200px; margin: 0 auto; padding: 20px; }
h1 { text-align: center; margin-bottom: 20px; }
.tabs { display: flex; gap: 4px; margin-bottom: 0; flex-wrap: wrap; }
.tab { padding: 10px 24px; cursor: pointer; background: #ddd; border: 1px solid #ccc; border-bottom: none;
       border-radius: 6px 6px 0 0; font-weight: bold; font-size: 14px; }
.tab.active { background: #fff; border-bottom: 1px solid #fff; margin-bottom: -1px; z-index: 1; }
.tab-content { display: none; background: #fff; border: 1px solid #ccc; border-radius: 0 6px 6px 6px; padding: 20px; }
.tab-content.active { display: block; }
table { width: 100%; border-collapse: collapse; font-size: 14px; }
th, td { padding: 6px 10px; border-bottom: 1px solid #eee; text-align: right; white-space: nowrap; }
th { background: #f9f9f9; position: sticky; top: 0; }
td:nth-child(3), th:nth-child(3) { text-align: left; }
tr:hover { background: #f0f7ff; }
.note { margin-top: 12px; font-size: 13px; color: #666; }
a.sl { color: #2563eb; text-decoration: underline; }
a.sl:hover { color: #1d4ed8; }
.pos { color: #c0392b; }
.filters { display: flex; align-items: center; gap: 16px; padding: 12px 0; font-size: 14px; }
.toggle { display: flex; align-items: center; gap: 6px; cursor: pointer; user-select: none; }
.toggle input { width: 16px; height: 16px; cursor: pointer; }
.formulas { margin-top: 32px; padding: 20px; background: #fff; border: 1px solid #ccc; border-radius: 6px; font-size: 14px; line-height: 1.8; }
.formulas h2 { font-size: 16px; margin-bottom: 12px; }
.formulas h3 { font-size: 14px; margin-top: 16px; margin-bottom: 4px; color: #555; }
.formulas code { background: #f0f0f0; padding: 2px 6px; border-radius: 3px; font-size: 13px; }
</style>
</head>
<body>
<div class="container">
<h1>퀀트 스크리너</h1>

<div class="filters">
  <label class="toggle"><input type="checkbox" id="hideHolding" checked> 지주사 제외</label>
</div>

<div class="tabs">
  <div class="tab active" data-t="dcf25">DCF 2025</div>
  <div class="tab" data-t="dcf24">DCF 2024</div>
  <div class="tab" data-t="mf25">Magic Formula 2025</div>
  <div class="tab" data-t="mf24">Magic Formula 2024</div>
</div>

<div id="dcf25" class="tab-content active">
  <table>
    <thead><tr><th>순위</th><th>종목코드</th><th>종목명</th><th>매출(억)</th><th>영업이익(억)</th><th>FCF(억)</th><th>적정가</th><th>현재가</th><th>괴리율</th></tr></thead>
    <tbody id="tb-dcf25"></tbody>
  </table>
  <p class="note">가정: 성장률 5%, WACC 10%, 영구성장률 2%, 예측기간 5년 | 2025년 3분기 기준</p>
</div>

<div id="dcf24" class="tab-content">
  <table>
    <thead><tr><th>순위</th><th>종목코드</th><th>종목명</th><th>매출(억)</th><th>영업이익(억)</th><th>FCF(억)</th><th>적정가</th><th>현재가</th><th>괴리율</th></tr></thead>
    <tbody id="tb-dcf24"></tbody>
  </table>
  <p class="note">가정: 성장률 5%, WACC 10%, 영구성장률 2%, 예측기간 5년 | 2024년 사업보고서 기준</p>
</div>

<div id="mf25" class="tab-content">
  <table>
    <thead><tr><th>순위</th><th>종목코드</th><th>종목명</th><th>매출(억)</th><th>영업이익(억)</th><th>ROIC</th><th>EY</th><th>합산</th></tr></thead>
    <tbody id="tb-mf25"></tbody>
  </table>
  <p class="note">2025년 3분기 기준</p>
</div>

<div id="mf24" class="tab-content">
  <table>
    <thead><tr><th>순위</th><th>종목코드</th><th>종목명</th><th>매출(억)</th><th>영업이익(억)</th><th>ROIC</th><th>EY</th><th>합산</th></tr></thead>
    <tbody id="tb-mf24"></tbody>
  </table>
  <p class="note">2024년 사업보고서 기준</p>
</div>

<div class="formulas">
  <h2>공식 요약</h2>
  <h3>DCF (Discounted Cash Flow)</h3>
  <code>FCF = 영업활동현금흐름 - CAPEX</code><br>
  <code>적정가 = (미래 FCF의 현재가치 합 + 잔존가치) - 부채 + 현금) / 발행주식수</code><br>
  <code>괴리율 = (적정가 - 현재가) / 현재가</code>
  <h3>Magic Formula (조엘 그린블라트)</h3>
  <code>ROIC = EBIT / 투하자본</code> (투하자본 = 유동자산 - 유동부채 - 현금 + 유형자산)<br>
  <code>EY = EBIT / EV</code> (EV = 시가총액 + 부채 - 현금)<br>
  <code>순위 = ROIC 순위 + EY 순위</code> (낮을수록 상위)
</div>

</div>

<script>
const N = n => Number(n).toLocaleString();
const U = c => `https://m.stock.naver.com/domestic/stock/${c}/total`;
const HK = ["홀딩스","홀딩","지주"];
const isHolding = name => HK.some(k => name.includes(k));

const dcf25=[
["003070","코오롱글로벌",6074,277,5935,266381,6710,"3870.2%"],
["011370","서한",1387,97,1727,20147,936,"2052.5%"],
["460850","동국씨엠",6679,17,2658,80355,5420,"1382.6%"],
["044450","KSS해운",1427,288,2639,112633,9340,"1105.9%"],
["046940","우원개발",938,266,496,35278,3170,"1012.9%"],
["002460","HS화성",2955,338,930,108285,10070,"975.3%"],
["019540","일지테크",2031,77,640,42255,3930,"975.2%"],
["007340","DN오토모티브",9187,1187,10327,211536,22850,"825.8%"],
["376290","씨유테크",484,21,296,25923,3130,"728.2%"],
["093050","LF",3986,161,3588,142367,17500,"713.5%"],
["025530","에스제이엠홀딩스",511,31,263,27618,3570,"673.6%"],
["065130","탑엔지니어링",2091,20,399,27569,3576,"670.8%"],
["181710","NHN",6256,276,5119,207148,27835,"644.2%"],
["013360","일성건설",1109,18,551,9525,1320,"621.6%"],
["017370","우신시스템",1010,44,743,47617,6940,"586.1%"],
["196450","코아시아씨엠",614,11,227,6414,963,"566.0%"],
["016670","디모아",45,1,188,33357,5024,"564.0%"],
["011760","현대코퍼레이션",18899,354,2406,137958,21150,"552.3%"],
["071840","롯데하이마트",6525,190,1405,51248,7870,"551.2%"],
["363260","모비데이즈",130,16,316,12348,1976,"524.9%"],
["005710","대원산업",2743,269,1046,69703,11540,"504.0%"],
["092300","현우산업",643,51,268,16850,2921,"476.9%"],
["053060","세동",452,24,151,7638,1324,"476.9%"],
["010960","삼호개발",1044,40,403,20236,3524,"474.2%"],
["029530","신도리코",804,15,1683,251429,44250,"468.2%"],
["006980","우성",1623,57,327,94584,16710,"466.0%"],
["030720","동원수산",362,15,147,37705,6700,"462.8%"],
["080010","이상네트웍스",295,73,225,36794,6610,"456.6%"],
["128540","에코캡",345,83,203,9658,1751,"451.6%"],
["270870","뉴트리",254,5,191,29165,5310,"449.2%"],
["024950","삼천리자전거",407,69,305,25437,4805,"429.4%"],
["272550","삼양패키징",1253,158,888,69677,13583,"413.0%"],
["035510","신세계I&C",1636,126,720,72310,14160,"410.7%"],
["063570","NICE인프라",1010,88,694,21946,4315,"408.6%"],
["088130","동아엘텍",1064,211,356,20486,4030,"408.3%"],
["174880","장원테크",187,10,42,13356,2650,"404.0%"],
["123700","에스제이엠",500,31,172,17668,3560,"396.3%"],
["471820","셀로맥스사이언스",53,7,236,29612,5973,"395.7%"],
["046310","백금T&A",372,29,156,12729,2835,"349.0%"],
["021080","에이티넘인베스트",242,182,326,10638,2650,"301.4%"],
["014470","부방",872,4,290,5996,1503,"298.9%"],
["006140","피제이전자",454,24,232,20494,5140,"298.7%"],
["093520","매커스",493,39,865,86992,21850,"298.1%"],
["021820","세원정공",491,2,350,43804,11190,"291.5%"],
["277070","린드먼아시아",12,6,194,21459,5530,"288.1%"],
["004560","현대비앤지스틸",1931,78,540,41974,11100,"278.1%"],
["096760","JW홀딩스",2441,472,1030,12093,3220,"275.6%"],
["154040","다산솔루에타",87,4,73,4491,1200,"274.2%"],
["003650","미창석유공업",1060,78,462,396974,106500,"272.8%"],
["088910","동우팜투테이블",883,31,172,7999,2165,"269.5%"],
["005820","원림",210,14,87,51467,14040,"266.6%"],
["126640","화신정공",876,3,136,4669,1301,"258.8%"],
];

const dcf24=[
["044180","KD",1576,29,907,38967,609,"6298.5%"],
["028080","휴맥스홀딩스",5427,60,782,51765,2400,"2056.9%"],
["002460","HS화성",6128,237,1186,136989,9690,"1313.7%"],
["115160","휴맥스",5356,62,787,15113,1242,"1116.8%"],
["005710","대원산업",9315,750,1050,67868,5910,"1048.4%"],
["174880","장원테크",747,55,86,27315,2650,"930.8%"],
["005880","대한해운",17472,3286,5187,17032,1674,"917.5%"],
["030720","동원수산",1837,53,181,47375,5090,"830.7%"],
["225590","패션플랫폼",1046,17,163,8325,954,"772.6%"],
["054800","아이디스홀딩스",7814,631,673,81375,9400,"765.7%"],
["035890","서희건설",14736,2357,2428,13630,1595,"754.5%"],
["214180","헥토이노베이션",3195,489,1016,105327,12340,"753.5%"],
["122450","KX",4038,597,990,25705,3035,"747.0%"],
["046310","백금T&A",1525,127,228,18363,2195,"736.6%"],
["004960","한신공영",14904,373,1336,52611,6390,"723.3%"],
["001800","오리온홀딩스",31952,5062,5544,119693,15060,"694.8%"],
["058860","KTis",6039,210,613,19216,2610,"636.2%"],
["006090","사조오양",4007,209,493,59009,8050,"633.0%"],
["016880","웅진",10081,311,842,6058,837,"623.8%"],
["037460","삼지전자",33597,1156,972,61474,8630,"612.3%"],
["004710","한솔테크닉스",11995,334,813,27306,3885,"602.9%"],
["038010","제일테크노스",1839,207,265,39646,5690,"596.8%"],
["123700","에스제이엠",2019,142,217,20055,2880,"596.4%"],
["267250","HD현대",677656,29832,57869,530129,79200,"569.4%"],
["091340","S&K폴리텍",3301,152,175,16003,2455,"551.9%"],
["000490","대동",14156,185,2079,59999,9220,"550.7%"],
["025530","에스제이엠홀딩스",2062,137,214,20817,3230,"544.5%"],
["036190","금화피에스시",3402,362,645,153954,24550,"527.1%"],
["089790","제이티",495,6,161,22535,3595,"526.9%"],
["413390","엠오티",849,65,295,36742,5940,"518.6%"],
["036030","케이티알파",3882,246,769,21771,3520,"518.5%"],
["079960","동양이엔피",5484,516,621,109030,17930,"508.1%"],
["131100","티엔엔터테인먼트",1429,97,165,7769,1280,"507.0%"],
["028050","삼성E&A",99666,9716,15929,99564,16550,"501.6%"],
["000590","CS홀딩스",1420,223,292,411781,68900,"497.6%"],
["198080","캐프",3149,200,240,14134,2395,"490.2%"],
["039740","한국정보공학",1941,6,95,13864,2390,"480.1%"],
["115440","우리넷",1316,201,367,50102,8750,"472.6%"],
["093920","서원인텍",2293,89,378,31256,5470,"471.4%"],
["013120","동원개발",5204,210,959,13407,2355,"469.3%"],
["010820","퍼스텍",2073,43,695,16671,2965,"462.2%"],
["031440","신세계푸드",15348,208,838,200978,36000,"458.3%"],
["051160","지어소프트",5472,291,420,45086,8120,"455.2%"],
["068790","DMS",1678,306,611,32089,5880,"445.7%"],
["010960","삼호개발",4018,12,352,16687,3065,"444.4%"],
["069510","에스텍",5094,440,488,57028,10510,"442.6%"],
["126700","하이비젼시스템",3120,310,946,93880,17410,"439.2%"],
["201490","미투온",943,118,205,9341,1790,"421.9%"],
["060380","동양에스텍",1910,32,135,7258,1391,"421.8%"],
["264450","유비쿼스",1038,124,384,41167,8000,"414.6%"],
["100790","미래에셋벤처투자",2339,157,1292,23544,4580,"414.1%"],
["402340","SK스퀘어",19066,39126,37835,398887,79300,"403.0%"],
["272450","진에어",14613,1631,2322,47831,9620,"397.2%"],
["038680","에스넷",4499,107,326,19633,3950,"397.0%"],
["004970","신라교역",4961,164,501,45130,9390,"380.6%"],
];

const mf25=[
["021080","에이티넘인베스트",242,182,"18573.0%","20.8%",7],
["020180","대신정보통신",1320,165,"405.1%","14.6%",15],
["402340","SK스퀘어",4079,26455,"7167.1%","9.6%",22],
["046940","우원개발",938,266,"86.2%","19.4%",24],
["339950","아이비김영",360,97,"25981.4%","7.2%",36],
["002460","HS화성",2955,338,"46.6%","9.7%",58],
["088130","동아엘텍",1064,211,"42.0%","9.3%",67],
["052790","액토즈소프트",348,256,"29.9%","26.0%",70],
["124500","아이티센글로벌",17273,645,"55.5%","6.1%",79],
["215200","메가스터디교육",2497,532,"37.1%","6.6%",94],
["080010","이상네트웍스",295,73,"20.6%","25.2%",99],
["068930","디지털대성",802,212,"35.2%","6.1%",101],
["000700","유수홀딩스",1051,112,"18.6%","42.4%",104],
["192080","더블유게임즈",1862,592,"24.9%","7.5%",113],
["007700","F&F 홀딩스",4742,1198,"18.0%","10.4%",121],
["025560","미래산업",226,60,"18.2%","9.3%",128],
["010400","우진아이엔에스",511,60,"15.9%","15.1%",135],
["000240","한국앤컴퍼니",3847,1371,"26.5%","5.4%",142],
["003350","한국화장품제조",548,119,"37.0%","4.7%",151],
["010280","아이티센엔텍",1372,98,"329.3%","4.0%",154],
["309960","LB인베스트먼트",81,53,"49.3%","4.3%",157],
["221980","케이디켐",158,20,"15.6%","7.9%",161],
["250030","진코스텍",151,24,"40.0%","4.4%",167],
["267790","배럴",238,46,"14.2%","9.3%",169],
["452300","캡스톤파트너스",29,17,"120.4%","3.8%",178],
["031980","피에스케이홀딩스",906,412,"30.0%","4.4%",180],
["187790","나노",345,55,"15.9%","5.7%",184],
["383220","F&F",4743,1280,"25.5%","4.3%",195],
["019180","티에이치엔",2769,216,"16.5%","5.1%",197],
["284740","쿠쿠홈시스",2916,408,"15.7%","5.5%",198],
];

const mf24=[
["461300","아이스크림미디어",1522,461,"697.8%","69.0%",11],
["402340","SK스퀘어",19066,39126,"3605.5%","33.6%",16],
["408920","메쎄이상",671,171,"614.0%","33.4%",24],
["051160","지어소프트",5472,291,"81.6%","81.0%",62],
["192080","더블유게임즈",6335,2487,"84.8%","35.4%",66],
["000270","기아",1074488,126671,"1010.5%","20.0%",73],
["007700","F&F 홀딩스",18983,4164,"63.9%","42.7%",89],
["080010","이상네트웍스",978,207,"57.7%","71.4%",99],
["000240","한국앤컴퍼니",13910,4183,"112.2%","19.8%",107],
["356890","싸이버원",479,113,"54.0%","64.6%",112],
["267790","배럴",644,91,"70.3%","24.9%",114],
["035890","서희건설",14736,2357,"56.5%","31.6%",119],
["066620","국보디자인",4216,417,"83.6%","20.7%",120],
["115440","우리넷",1316,201,"60.4%","23.4%",135],
["383220","F&F",18960,4507,"90.8%","16.9%",157],
["086980","쇼박스",931,245,"170.9%","15.4%",157],
["250000","보라티알",914,128,"164.9%","15.4%",161],
["045100","한양이엔지",11863,862,"48.0%","25.9%",163],
["221980","케이디켐",624,75,"50.3%","24.1%",163],
["377450","리파인",0,205,"55.9%","20.0%",169],
["019550","SBI인베스트먼트",287,117,"156.8%","14.9%",174],
["101160","월덱스",3068,703,"40.9%","31.8%",180],
["128540","에코캡",1385,196,"55.6%","19.2%",180],
["215200","메가스터디교육",9422,1236,"165.8%","14.4%",184],
["215000","골프존",6200,958,"52.2%","19.3%",190],
["069510","에스텍",5094,440,"45.8%","22.2%",191],
["052790","액토즈소프트",796,295,"40.4%","26.2%",201],
["058630","엠게임",834,128,"44.3%","21.3%",203],
["309960","LB인베스트먼트",303,109,"87.9%","14.7%",204],
["198080","캐프",3149,200,"43.9%","21.3%",205],
];

function filterData(data) {
  if (!document.getElementById('hideHolding').checked) return data;
  return data.filter(r => !isHolding(r[1]));
}

function renderDcf(id, data) {
  const filtered = filterData(data);
  document.getElementById(id).innerHTML = filtered.map((r,i) =>
    `<tr><td>${i+1}</td><td><a class="sl" href="${U(r[0])}" target="_blank">${r[0]}</a></td><td>${r[1]}</td><td>${N(r[2])}</td><td>${N(r[3])}</td><td>${N(r[4])}</td><td>${N(r[5])}</td><td>${N(r[6])}</td><td class="pos">${r[7]}</td></tr>`
  ).join('');
}

function renderMf(id, data) {
  const filtered = filterData(data);
  document.getElementById(id).innerHTML = filtered.map((r,i) =>
    `<tr><td>${i+1}</td><td><a class="sl" href="${U(r[0])}" target="_blank">${r[0]}</a></td><td>${r[1]}</td><td>${N(r[2])}</td><td>${N(r[3])}</td><td>${r[4]}</td><td>${r[5]}</td><td>${r[6]}</td></tr>`
  ).join('');
}

function renderAll() {
  renderDcf('tb-dcf25', dcf25);
  renderDcf('tb-dcf24', dcf24);
  renderMf('tb-mf25', mf25);
  renderMf('tb-mf24', mf24);
}

renderAll();

document.getElementById('hideHolding').addEventListener('change', renderAll);

document.querySelectorAll('.tab').forEach(tab => {
  tab.addEventListener('click', function() {
    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
    document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
    this.classList.add('active');
    document.getElementById(this.dataset.t).classList.add('active');
  });
});
</script>
</body>
</html>
